= UAA 安装部署

* 安装 jdk 11+
* 安装 tomcat 9+
* 下载 cloudfoundry-identity-uaa-74.21.0.war
* 将 war 包放在 tomcat 的 webapps 下
* 改名包名为 uaa.war
* 设置参数
** UAA_CONFIG_PATH：指向 uaa.yml 所在目录
** logging.config：指向 log4j2.properties 的路径
* 启动：export JAVA_OPTS="-Dlogging.config=待填入 -DUAA_CONFIG_PATH=待填入" && bin/startup.sh

== tomcat

=== 启动

----
$ cd apache-tomcat-9.0.37/bin
$ chmod +x *.sh
$ ./startup.sh
----

=== 配置 SSL

打开 apache-tomcat-9.0.37/conf/server.xml ：

[source%nowrap,xml]
----
<Connector port="8443" protocol="org.apache.coyote.http11.Http11NioProtocol"
           maxThreads="150" SSLEnabled="true">
    <SSLHostConfig>
        <Certificate certificateKeystoreFile="/Users/xiayx/peacetrue.cn.jks"
                     certificateKeystorePassword="password"
                     type="RSA" />
    </SSLHostConfig>
</Connector>
----

新增 certificateKeystorePassword="password"
